/**
 * Generated by @dgwnu/ng-joint-schematics
 * Ng Joint <%= classify(shapeType) %> <%= classify(name) %> Service
 */
import { Injectable, SimpleChanges,  } from '@angular/core';

import { DiaGraph } from '../../../dia/graph';
import { ElementShapeService } from '../../../<%= dasherize(shapesPath) %>/shapes';

import { Shapes<%= classify(shapeType) %>Service } from '../../../<%= dasherize(shapesPath) %>/<%= dasherize(shapeType) %>/shapes-<%= dasherize(shapeType) %>.service';
import { <%= classify(shapeType) %><%= classify(name) %> } from './<%= dasherize(shapeType) %>-<%= dasherize(name) %>';
import { <%= classify(shapeType) %><%= classify(name) %>Component } from './<%= dasherize(shapeType) %>-<%= dasherize(name) %>.component';

@Injectable({
  providedIn: 'root'
})
export class <%= classify(shapeType) %><%= classify(name) %>Service implements ElementShapeService {

  constructor(private service: Shapes<%= classify(shapeType) %>Service) {}

  createElementShape(
    graphInstance: DiaGraph,
    component: <%= classify(shapeType) %><%= classify(name) %>Component
  ): <%= classify(shapeType) %><%= classify(name) %> {
    const <%= dasherize(name) %>Shape = new <%= classify(shapeType) %><%= classify(name) %>(
      component.id,
      this.service.buildElementOptions(component)
    );
    graphInstance.addElement(<%= dasherize(name) %>Shape);
    return <%= dasherize(name) %>Shape;
  }

  onEvents(component: <%= classify(shapeType) %><%= classify(name) %>Component) {
    this.service.onElementEvents(component);
  }

  setChanges(changes: SimpleChanges, component: <%= classify(shapeType) %><%= classify(name) %>Component) {
    this.service.setElementChanges(changes, component);
  }

}
